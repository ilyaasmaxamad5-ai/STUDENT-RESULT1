<!DOCTYPE html>
<html>
<head>
<title>Student Results with GPA</title>
 <meta http-equiv="refresh" content="300">
<style>
body { font-family: Arial; background: #f4f4f4; padding: 20px; }
.container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
.login-box { width: 450px; margin: auto; padding: 20px; padding-right:10px background: white; border-radius: 8px; box-shadow: 0 0 5px #aaa; }
input { padding: 10px; margin-bottom: 15px; width: 100%; box-sizing: border-box; }
input[readonly] { background: #eee; }
button { padding: 10px 18px; margin-top: 10px; border: none; border-radius: 6px; cursor: pointer; }
.btn { background: teal; color: white; }
.logout { background: red; color: white; }
.table { width: 100%; border-collapse: collapse; margin-top: 15px; }
.table th, .table td { border: 1px solid #999; padding: 10px; text-align: center; }
.gpa { margin-top: 15px; font-weight: bold; font-size: 18px; }
</style>
</head>
<body>

<!-- LOGIN PAGE -->
<div id="loginDiv" class="login-box">
  <h2>NPUC Student Login</h2>

  <label>Student ID (Visible)</label>
  <input id="sid" placeholder="Enter ID ">

  <label>Password</label>
  <input id="pass" type="text" placeholder="Enter password ">

  <button type="submit" class="btn" onclick="login()">Login</button>
</div>

<!-- RESULT PAGE -->
<div id="resultDiv" class="container" style="display:none;">
  <h2 id="title"></h2>

  <table class="table">
    <tr>
      <th>#Course</th>
      <th>Attendance 10</th>
      <th>C.activity 10</th>
      <th>assignments 20</th>
      <th>Final 60</th>
      <th>Total</th>
      <th>Grade</th>
    </tr>
    <tbody id="courseRows"></tbody>
  </table>

  <div class="gpa" id="gpaDiv"></div>

  <button type="button" class="logout" onclick="logout()">Logout</button>
</div>

<script>
// FIXED STUDENT ACCOUNTS + RESULTS
const students = {
  "0001": {pass: "0002", name: "Nasteexo Arab Ali", results: [[0,0,0,0],[0,0,0,0],[10,10,20,0],[10,10,20,0]]},
  "0002": {pass: "0004", name: "Ashwaaq Bashiir Abdi", results: [[10,10,20,41],[10,10,20,33],[10,10,20,32],[10,10,20,41]]},
  "0035": {pass: "0070", name: "Abdifaah Ali Dahir", results: [[10,10,20,38],[10,10,20,40.5],[10,10,20,31],[10,10,20,47]]},
  "0004": {pass: "0008", name: "Hoodo Bashir Abdi", results: [[10,10,18.75,20],[10,10,18.75,31],[10,10,20,13],[10,10,20,17]]},
  "0005": {pass: "0010", name: "Aswaan Bashir Abdi", results: [[10,10,20,46],[10,10,17.5,36],[10,10,20,58],[10,10,20,41]]},
  "0024": {pass: "0048", name: "Abdiqadir Abshir Hasan", results: [[10,10,20,21],[10,10,20,53],[10,10,20,58],[10,10,20,60]]},
  "0021": {pass: "0042", name: "Ahmed Abdirisaq Jama", results: [[10,10,18.75,53],[10,10,20,48],[10,10,20,54],[10,10,20,54]]},
  "0041": {pass: "0082", name: "Jama Abdirisaq Jama", results: [[10,10,20,56],[10,10,20,40.7],[10,10,20,48],[10,10,20,45]]},
  "0009": {pass: "0018", name: "Adna Qasim Abdilahi", results: [[10,10,20,22],[10,10,16.25,42],[10,10,20,35],[10,10,20,44]]},
  "0042": {pass: "0084", name: "Muscab Jibril Hassan", results: [[10,10,18.75,36],[10,10,20,39],[10,10,20,44],[10,10,18,58]]},
  "0038": {pass: "0076", name: "Mushtaaq Mohomed Ali", results: [[10,10,18.75,59],[10,10,20,60],[10,10,20,60],[10,10,20,60]]},
  "0039": {pass: "0078", name: "Nimco Abdi Ali", results: [[10,10,20,31],[10,10,15,0],[10,10,17,51],[10,10,20,29]]},
  "0025": {pass: "0050", name: "Radwan H.saleban ibrahim", results: [[10,10,20,54],[10,10,20,51],[10,10,20,58],[10,10,20,49]]},
  "0036": {pass: "0072", name: "Sihaam Abdirashid Jibril", results: [[10,10,20,0],[10,10,20,0],[10,10,20,0],[10,10,20,0]]},
  "0033": {pass: "0066", name: "Yasmin Elmi Abdi", results: [[10,10,20,49],[10,10,20,46],[10,10,20,56],[10,10,20,50]]},
  "0031": {pass: "0062", name: "Muna Mohamad Farah", results: [[10,10,20,0],[10,10,20,57],[10,10,20,54],[10,10,20,45]]},
  "0064": {pass: "0128", name: "Abdikarim Mustafe Abdi", results: [[10,10,18,0],[10,10,20,31],[10,10,20,0],[10,10,20,46]]},
  "0045": {pass: "0090", name: "Hamse Idiris Aidid", results: [[10,10,0,0],[10,10,0,0],[10,10,20,0],[10,10,20,0]]}
  
};

const courseNames = ["Computer-Sci", "Soft-ENG", "CyberSafe", "Networking"];
let currentStudent = null;

// LOGIN FUNCTION
function login() {
  let id = document.getElementById("sid").value.trim();
  let pw = document.getElementById("pass").value.trim();

  if (students[id] && students[id].pass === pw) {
    currentStudent = id;
    showResults();
  } else {
    alert("ID ama Password waa qalad.");
  }
}

// SHOW RESULTS WITH GPA
function showResults() {
  document.getElementById("loginDiv").style.display = "none";
  document.getElementById("resultDiv").style.display = "block";

  document.getElementById("title").innerHTML = "Welcome: " + students[currentStudent].name;

  let rows = "";
  let r = students[currentStudent].results;
  let totalPoints = 0;

  for (let i = 0; i < 4; i++) {
    let att = r[i][0], cls = r[i][1], asg = r[i][2], fin = r[i][3];
    let total = att + cls + asg + fin;
    let grade = gradeMark(total);
    let gradePoint = gradeToPoint(grade);
    totalPoints += gradePoint;

    rows += `
      <tr>
        <td><input readonly value="${courseNames[i]}"></td>
        <td><input readonly value="${att}"></td>
        <td><input readonly value="${cls}"></td>
        <td><input readonly value="${asg}"></td>
        <td><input readonly value="${fin}"></td>
        <td><input readonly value="${total}"></td>
        <td><input readonly value="${grade}"></td>
      </tr>`;
  }
  document.getElementById("courseRows").innerHTML = rows;

  // Calculate GPA (average)
  let gpa = (totalPoints / 4).toFixed(2);
  document.getElementById("gpaDiv").innerHTML = "GPA: " + gpa;
}

// GRADE SYSTEM
function gradeMark(t) {
  if (t >= 85) return "A";
  if (t >= 70) return "B";
  if (t >= 55) return "C";
  if (t >= 45) return "D";
  return "F";  
}

// Convert grade to points
function gradeToPoint(g){
  if(g==="A") return 4;
  if(g==="B") return 3;
  if(g==="C") return 2;
  if(g==="D") return 1;
  return 0;
}

// LOGOUT
function logout() {
  currentStudent = null;
  document.getElementById("loginDiv").style.display = "block";
  document.getElementById("resultDiv").style.display = "none";
}
</script>
<script>

</script>
</body>
</html>
